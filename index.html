<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الاختبار الشامل لجميع أدوات المختبر</title>
    <style>
        :root { --primary: #2c3e50; --secondary: #3498db; --success: #27ae60; --danger: #e74c3c; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: #f4f4f9; display: flex; justify-content: center; padding: 20px; }
        #quiz-container { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 25px rgba(0,0,0,0.1); width: 100%; max-width: 800px; }
        .header { display: flex; justify-content: space-between; border-bottom: 3px solid var(--secondary); padding-bottom: 10px; margin-bottom: 20px; font-weight: bold; }
        .question-box { direction: ltr; text-align: left; margin-bottom: 25px; }
        .question-text { font-size: 1.3rem; color: var(--primary); margin-bottom: 20px; line-height: 1.6; }
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        @media (max-width: 600px) { .options-grid { grid-template-columns: 1fr; } }
        .opt-btn { padding: 15px; border: 2px solid #ddd; border-radius: 10px; background: none; cursor: pointer; transition: 0.3s; font-size: 1rem; text-align: left; }
        .opt-btn:hover { border-color: var(--secondary); background: #f0f8ff; }
        .feedback { display: none; margin-top: 20px; padding: 15px; border-radius: 8px; direction: ltr; text-align: left; }
        .correct { background: #eafaf1; color: var(--success); border: 1px solid var(--success); }
        .wrong { background: #fdeaea; color: var(--danger); border: 1px solid var(--danger); }
        .next-btn { background: var(--secondary); color: white; border: none; padding: 12px 30px; border-radius: 5px; cursor: pointer; float: left; display: none; margin-top: 20px; }
        .result-screen { text-align: center; display: none; }
    </style>
</head>
<body>

<div id="quiz-container">
    <div class="header">
        <div id="score">النتيجة: 0</div>
        <div id="counter">سؤال: 1 / 40</div>
    </div>

    <div id="game-area">
        <div class="question-box">
            <div class="question-text" id="q-text">Loading...</div>
            <div class="options-grid" id="options"></div>
        </div>
        <div id="feedback" class="feedback"></div>
        <button class="next-btn" id="next-btn" onclick="nextQuestion()">السؤال التالي ←</button>
    </div>

    <div id="result-screen" class="result-screen">
        <h1 style="color: var(--secondary)">أحسنت! انتهى الاختبار</h1>
        <p id="final-stats" style="font-size: 1.5rem"></p>
        <button class="next-btn" style="display:inline-block; float:none" onclick="location.reload()">إعادة الاختبار</button>
    </div>
</div>

<script>
    // جميع الأدوات المستخرجة من الملف بناءً على الوصف (الأحمر)
    const data = [
        { q: "Primarily used in microbiology for cell cultures. In Organic Chemistry it is used to store solids.", a: "Petri dish", p: 2 },
        { q: "Commonly used to prepare water, oil or sand baths or serve as containers for different materials.", a: "Crystallizing dish", p: 2 },
        { q: "Used to heat, dry, or carbonize substances at high temperatures.", a: "Porcelain capsules", p: 3 },
        { q: "Used to transfer liquids between laboratory bottles.", a: "Conical funnels", p: 3 },
        { q: "Most common flask, used for volumetric measurements, mixing chemicals and titrations.", a: "Erlenmeyer flask", p: 3 },
        { q: "Used to accurately measure a given volume of liquid... main use is to prepare mixtures or solutions of known concentration.", a: "Volumetric flask", p: 3 },
        { q: "Commonly used to container solvents.", a: "Washing bottles", p: 3 },
        { q: "Heat resistant, used to contain small liquid or solid samples.", a: "Test tube", p: 3 },
        { q: "Used to weigh or dry solids.", a: "Watch glass", p: 3 },
        { q: "Capsules with hemispherical shape used for heating, melting and burning at high temperatures.", a: "Crucible", p: 4 },
        { q: "A transparent glass tube with one conical end that allows fairly accurate volume measurements.", a: "Graduated pipette", p: 4 },
        { q: "Used for relatively accurate volume measurement, it has a base and a pouring lip.", a: "Graduated cylinder", p: 4 },
        { q: "Used to measure the temperature of a substance.", a: "Thermometer", p: 4 },
        { q: "Used to transfer small quantities of liquids (with a rubber bulb).", a: "Medicine dropper", p: 4 },
        { q: "Solid glass cylinders used to stir solutions, dissolve, and handle solids in the funnel.", a: "Glass rod", p: 4 },
        { q: "Used to transfer small amounts of liquids (narrowing at one end).", a: "Pasteur pipette", p: 4 },
        { q: "Instrument used for measuring and transferring small volumes.", a: "Automatic Pipette", p: 4 },
        { q: "Used to measure variable quantities of fluids in volumetric analysis (titrations).", a: "Burette", p: 4 },
        { q: "Used for handling small amounts of solids.", a: "Spatula", p: 5 },
        { q: "Special metal spatula used for transferring solids to a weighing paper.", a: "Scoopula", p: 5 },
        { q: "Used to prevent from escaping, liquids or vapors.", a: "Teflon stopper", p: 5 },
        { q: "Device used to clean the inside of test tubes or other long-necked glassware.", a: "Test tube brush", p: 5 },
        { q: "Used to maintain glassware elements fixed and safe while carrying out an experiment.", a: "Ring stand", p: 5 },
        { q: "Designed to hold a specific burette with double locking.", a: "Burette clamps", p: 5 },
        { q: "Used to hold test tubes while being heated or handled.", a: "Test tube holder", p: 5 },
        { q: "Used to handle crucibles and oven-dried material.", a: "Crucible tongs", p: 5 },
        { q: "Used to hold small items or any solid materials.", a: "Tweezers/Forceps", p: 5 },
        { q: "Used to support funnels such as separatory or filter funnels.", a: "Ring clamps", p: 5 },
        { q: "Height adjustable platforms used to facilitate supporting or elevating lab equipment.", a: "Lab jack", p: 5 },
        { q: "Used for safe handling of round-bottom flasks to prevent them from rolling.", a: "Round-bottom flask stands", p: 5 },
        { q: "Used to hold test tubes, can be wood, metal or plastic.", a: "Test-tube rack", p: 5 },
        { q: "Provides respiratory safety by removing harmful fumes and hazardous gases.", a: "Fume hoods", p: 7 },
        { q: "Highly sensitive lab instrument designed to accurately measure mass.", a: "Analytical balance", p: 7 },
        { q: "Used to heat test tubes or to sterilize samples/instruments with a flame.", a: "Bunsen burner", p: 7 },
        { q: "Equipment with internal temperature regulator, often has magnetic stirring.", a: "Hot plate stirrer", p: 8 },
        { q: "Used to incubate samples in water at a constant temperature over a period of time.", a: "Water bath", p: 8 },
        { q: "Used to separate solids from liquids, available in different sizes.", a: "Filter paper", p: 8 },
        { q: "Coated with Teflon, it drives vapor bubbles to the surface to prevent bumping.", a: "Stir bar (Magnetic)", p: 8 },
        { q: "Cylindrical containers with a spout used to facilitate the transfer of liquids.", a: "Beaker", p: 3 },
        { q: "Commonly used as containers for different materials in baths.", a: "Glass crystallizer", p: 2 }
    ];

    let current = 0;
    let score = 0;
    let questions = [];

    function init() {
        questions = data.sort(() => Math.random() - 0.5);
        renderQuestion();
    }

    function renderQuestion() {
        const qData = questions[current];
        document.getElementById("q-text").innerText = qData.q;
        document.getElementById("counter").innerText = `سؤال: ${current + 1} / ${questions.length}`;
        
        let opts = [qData.a];
        while(opts.length < 4) {
            let r = data[Math.floor(Math.random()*data.length)].a;
            if(!opts.includes(r)) opts.push(r);
        }
        opts.sort(() => Math.random() - 0.5);

        const container = document.getElementById("options");
        container.innerHTML = "";
        opts.forEach(o => {
            const b = document.createElement("button");
            b.className = "opt-btn";
            b.innerText = o;
            b.onclick = () => check(o);
            container.appendChild(b);
        });
        document.getElementById("feedback").style.display = "none";
        document.getElementById("next-btn").style.display = "none";
    }

    function check(choice) {
        const q = questions[current];
        const f = document.getElementById("feedback");
        const btns = document.querySelectorAll(".opt-btn");
        btns.forEach(b => b.style.pointerEvents = "none");

        if(choice === q.a) {
            score++;
            f.innerHTML = "<b>Correct!</b> ✅";
            f.className = "feedback correct";
            document.getElementById("score").innerText = `النتيجة: ${score}`;
        } else {
            f.innerHTML = `<b>Incorrect!</b> ❌<br>Correct Answer: <b>${q.a}</b><br><small>Info from file: ${q.q} (Page ${q.p})</small>`;
            f.className = "feedback wrong";
        }
        f.style.display = "block";
        document.getElementById("next-btn").style.display = "block";
    }

    function nextQuestion() {
        current++;
        if(current < questions.length) renderQuestion();
        else {
            document.getElementById("game-area").style.display = "none";
            document.getElementById("result-screen").style.display = "block";
            document.getElementById("final-stats").innerText = `درجتك النهائية: ${score} من ${questions.length}`;
        }
    }

    init();
</script>
</body>
</html>
